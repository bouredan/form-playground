// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Template {
  id       String @id
  forms    Form[]
  elements String
}

model Form {
  id          String        @id @default(cuid())
  templateId  String
  template    Template      @relation(fields: [templateId], references: [id])
  formData    String
  readonly    Boolean       @default(false)
  dynamicData DynamicData[]
}

model DynamicData {
  elementId String
  formId    String
  form      Form   @relation(fields: [formId], references: [id])
  data      String

  @@id([elementId, formId])
}

// model FormData {
//   formId   String @id
//   form     Form   @relation(fields: [formId], references: [id])
//   formData String
// }

// Data
model User {
  id   Int    @id @default(autoincrement())
  name String
}

model Address {
  id     Int    @id @default(autoincrement())
  street String
  city   String
}

//FORM

// model ElementType {
//   name     String    @unique
//   elements Element[]
// }

// model Element {
//   id              Int         @id @default(autoincrement())
//   form            Form        @relation(fields: [formId], references: [id])
//   formId          Int
//   elementType     ElementType @relation(fields: [elementTypeName], references: [name])
//   elementTypeName String
// }

// model Document {
//   id       Int       @id @default(autoincrement())
//   title    String
//   elements Element[]
// }
